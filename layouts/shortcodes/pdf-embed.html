{{- $pdfPath := .Get 0 -}}
{{- $filename := path.Base $pdfPath -}}
{{- $pdfBaseURL := .Site.Params.pdfBaseURL | default "" -}}
{{- $fullURL := "" -}}

{{- if $pdfBaseURL -}}
{{- $fullURL = printf "%s/%s" $pdfBaseURL $pdfPath -}}
{{- else -}}
{{- $fullURL = $pdfPath | relURL -}}
{{- end -}}

<div class="pdf-page-viewer" data-pdf-url="{{ $fullURL }}">
    <!-- Mobile Notice -->
    <div class="mobile-notice">
        <strong>📱 スマホ・タブレットをご利用の方へ</strong><br>
        左右の矢印ボタンまたはスワイプでページを移動できます。
    </div>

    <!-- PDF Canvas -->
    <div class="pdf-canvas-container">
        <canvas id="pdf-canvas"></canvas>
    </div>

    <!-- Navigation Controls -->
    <div class="pdf-controls">
        <div class="pdf-nav-buttons">
            <button id="pdf-prev" class="pdf-nav-btn">◀ 前へ</button>
            <button id="pdf-next" class="pdf-nav-btn">次へ ▶</button>
        </div>
        <div class="pdf-page-info">
            <span id="pdf-page-info">1 / 1</span>
        </div>
    </div>

    <!-- Download Button -->
    <div style="text-align: center; margin-top: 20px;">
        <a href="{{ $fullURL }}" download="{{ $filename }}" class="pdf-download-btn">
            📥 PDFをダウンロード
        </a>
    </div>
</div>